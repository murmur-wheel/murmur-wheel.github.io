---
layout: post
title: C++ 包管理
---

在使用 C++ 开发时，往往会引入额外的依赖。C++ 不仅仅是语言本身让人头痛，包管理也是一个很重要的内容。引入依赖的方式大体可分为两类：

- 二进制依赖
- 源码依赖

## 二进制依赖

第一种方法，就是常见的，通过 *apt install xx-dev* 命名在 */usr/lib* 和 */usr/include* 这两个路径下装一堆东西。这样做的后果显而易见，时间长了后，你不知道你的计算机上到底安装了什么，你的工程很可能在别人的计算机上无法编译，别人很难分享你的劳动成果。

## 源码依赖

直接依赖源码的缺点就是编译时间长，而且生成的二进制程序往往都比较巨大。

- 直接将源码集成到项目中，这种方式的优点是所有代码都在一块，编译的时候不容易出问题。
- 使用 git submodule，缺点是需要网络，而且不能自动拉取最新的代码，但是可以方便地更新 submodule。
- 在构建的时候，通过 cmake 等工具下载依赖，缺点和 git submodule 一样，比较花时间，好处是能拉取最新的代码。
- 借助 vcpkg, conan 这种 package 托管网站来管理编译好的 package。

我们以一个名为 example 的项目为例，这个项目依赖 sub_example1 和 sub_example2 两个库。
