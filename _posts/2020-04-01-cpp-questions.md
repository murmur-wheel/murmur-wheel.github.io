---
author: murmur wheel
title: C++ 面试题整理
---

# C++ 编译的流程

1. 预处理，展开预编译宏。使用的 gcc 命令是：`gcc -E`
2. 编译、优化阶段，从 .cpp/.h 转换成 .s 文件。使用的 gcc 命令是：`gcc -S`
3. 汇编，从 .s 转化成 .o 文件。使用的 gcc 命令是：`gcc -c`
4. 链接，将 .o 文件转化成可执行程序。对应于链接命令：`ld`

使用 gcc 的 `-save-temps` 可以保留中间文件。

# 关键字

## struct 和 class 关键字的区别

struct 默认 public, class 默认 private。

## static 关键字

static 可以修饰类的数据成员，函数，以及局部变量。

static 修饰类的数据成员时，表示这个成员是类所有的，要通过 `<className>::<dataName>` 来访问。当其修饰函数时，表示这个函数的作用域被限定到这个编译单元内。当被用来修饰局部变量时，这个局部变量的生命周期从第一次访问开始，知道程序中期，其实际存放的位置是数据段，而不是栈上。

## const 关键字

const 关键字可以修饰函数，变量以及指针。

修饰成员函数时，表示此函数只能不能写出 mutable 以外的数据成员。修饰变量是，表示不能更改变量的值。当修饰指针时，分两种情况，一种时不能修改指针本身的值，二是不能通过指针修改指针指向的内存。此外，使用 const_cast 可以更改 const 的修饰作用。

# 构造函数相关的问题

## 什么时候编译器会生成一个默认构造函数?讲一讲它的实现细节？

编译器会在有必要的时候合成一个默认构造函数，被合成的构造函数只是满足编译器（而非程序）的需要。为了避免冲突，通常这个默认构造函数以 inline 或者 static 的形式给出。

注意：implicit trivial default constructors 实际上不会被合成出来。编译器合成的默认构造函数不会设置 class 内每一个数据成员的初始值。

## 构造函数会做些什么？

1. 如果有子类，调用子类的默认构造函数。
2. 如果类中定义了虚函数，将虚表指针指向正确的地址。（虚表是常量，所以一般存放在只读数据段中。）
3. 如果存在虚继承，初始化虚继承相关的内容。

# 数据成员

# 成员函数

# 继承

# std::move 和 std::forward

# 
